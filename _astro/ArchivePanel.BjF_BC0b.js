import{o as W,i as X}from"./lifecycle.5Ap2lG4L.js";import{e as A,a as y,p as Z,b as $,s as tt,m as et,h as l,r as o,i as f,u as n,g as a,t as U,j as T}from"./template.u9TWndYC.js";import{s as c}from"./render.CEs9TuJY.js";import{e as B,i as C}from"./each.Dn1gkYdv.js";import{p as P,s as D}from"./props.B8XIlXrz.js";import{I as k}from"./zh_TW.12WzXWON.js";import{i as M}from"./translation.RNxcUQCy.js";import{g as at,a as rt}from"./url-utils.7_L8JPzD.js";import"./utils.BZ1KpxG4.js";import"./config.DloxKmO1.js";var it=A(`<a class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"><div class="flex flex-row justify-start items-center h-full"><div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"> </div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),st=A(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-50"> </div></div> <!></div>`),ot=A('<div class="card-base px-8 py-6"></div>');function pt(N,g){$(g,!1);let h=P(g,"tags",12),p=P(g,"categories",12),F=P(g,"sortedPosts",24,()=>[]);const v=new URLSearchParams(window.location.search);h(v.has("tag")?v.getAll("tag"):[]),p(v.has("category")?v.getAll("category"):[]);const K=v.get("uncategorized");function L(e){return e.data.permalink?at(e.data.permalink):rt(e.slug)}let S=et([]);function O(e){const r=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0");return`${r}-${d}`}function R(e){return e.map(r=>`#${r}`).join(" ")}W(async()=>{let e=F();h().length>0&&(e=e.filter(t=>Array.isArray(t.data.tags)&&t.data.tags.some(i=>h().includes(i)))),p().length>0&&(e=e.filter(t=>t.data.category&&p().includes(t.data.category))),K&&(e=e.filter(t=>!t.data.category)),e=e.slice().sort((t,i)=>i.data.published.getTime()-t.data.published.getTime());const r=e.reduce((t,i)=>{const u=i.data.published.getFullYear();return t[u]||(t[u]=[]),t[u].push(i),t},{}),d=Object.keys(r).map(t=>({year:Number.parseInt(t,10),posts:r[Number.parseInt(t,10)]}));d.sort((t,i)=>i.year-t.year),tt(S,d)}),X();var x=ot();B(x,5,()=>a(S),C,(e,r)=>{var d=st(),t=l(d),i=l(t),u=l(i,!0);o(i);var j=f(i,4),Y=l(j);o(j),o(t);var q=f(t,2);B(q,1,()=>(a(r),n(()=>a(r).posts)),C,(w,s)=>{var m=it(),z=l(m),b=l(z),E=l(b,!0);o(b);var _=f(b,4),G=l(_,!0);o(_);var I=f(_,2),H=l(I,!0);o(I),o(z),o(m),U((J,Q,V)=>{D(m,"href",J),D(m,"aria-label",(a(s),n(()=>a(s).data.title))),c(E,Q),c(G,(a(s),n(()=>a(s).data.title))),c(H,V)},[()=>(a(s),n(()=>L(a(s)))),()=>(a(s),n(()=>O(a(s).data.published))),()=>(a(s),n(()=>R(a(s).data.tags)))]),y(w,m)}),o(d),U(w=>{c(u,(a(r),n(()=>a(r).year))),c(Y,`${a(r),n(()=>a(r).posts.length)??""} ${w??""}`)},[()=>(T(M),a(r),T(k),n(()=>M(a(r).posts.length===1?k.postCount:k.postsCount)))]),y(e,d)}),o(x),y(N,x),Z()}export{pt as default};
