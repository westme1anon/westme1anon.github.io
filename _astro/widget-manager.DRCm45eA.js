import{s as i}from"./config.DloxKmO1.js";const a={profile:"../components/widget/Profile.astro",announcement:"../components/widget/Announcement.astro",categories:"../components/widget/Categories.astro",tags:"../components/widget/Tags.astro",toc:"../components/widget/TOC.astro","music-player":"../components/widget/MusicPlayer.svelte",pio:"../components/widget/Pio.astro","site-stats":"../components/widget/SiteStats.astro",calendar:"../components/widget/Calendar.astro",custom:null};class r{config;enabledComponents;constructor(e=i){this.config=e,this.enabledComponents=this.getEnabledComponents()}getConfig(){return this.config}getEnabledComponents(){return this.config.components.filter(e=>e.enable).sort((e,t)=>e.order-t.order)}getComponentsByPosition(e,t){let n=this.enabledComponents.filter(o=>o.position===e);if(t)n=n.filter(o=>(o.sidebar||"left")===t);else if(this.config.position==="left"||this.config.position==="right"){const o=this.config.position;n=n.filter(s=>(s.sidebar||"left")===o)}return n}getAnimationDelay(e,t){return e.animationDelay!==void 0?e.animationDelay:this.config.defaultAnimation.enable?this.config.defaultAnimation.baseDelay+t*this.config.defaultAnimation.increment:0}getComponentClass(e,t){const n=[];return e.class&&n.push(e.class),this.config.position==="both"&&e.sidebar==="right"&&n.push("hidden","lg:block"),e.responsive?.hidden&&e.responsive.hidden.forEach(o=>{switch(o){case"mobile":n.push("hidden","md:block");break;case"tablet":n.push("md:hidden","lg:block");break;case"desktop":n.push("lg:hidden");break}}),n.join(" ")}getComponentStyle(e,t){const n=[];e.style&&n.push(e.style);const o=this.getAnimationDelay(e,t);return o>0&&n.push(`animation-delay: ${o}ms`),n.join("; ")}isCollapsed(e,t){return e.responsive?.collapseThreshold?t>=e.responsive.collapseThreshold:!1}getComponentPath(e){return a[e]}shouldShowSidebar(e){return this.config.responsive.layout[e]==="sidebar"}getBreakpoints(){return this.config.responsive.breakpoints}updateConfig(e){this.config={...this.config,...e},this.enabledComponents=this.getEnabledComponents()}addComponent(e){this.config.components.push(e),this.enabledComponents=this.getEnabledComponents()}removeComponent(e){this.config.components=this.config.components.filter(t=>t.type!==e),this.enabledComponents=this.getEnabledComponents()}toggleComponent(e,t){const n=this.config.components.find(o=>o.type===e);n&&(n.enable=t,this.enabledComponents=this.getEnabledComponents())}reorderComponent(e,t){const n=this.config.components.find(o=>o.type===e);n&&(n.order=t,this.enabledComponents=this.getEnabledComponents())}isSidebarComponent(e){return e!=="pio"}}const c=new r;export{c as w};
